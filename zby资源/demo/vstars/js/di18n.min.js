!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DI18n=t():e.DI18n=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var s=n[o]={exports:{},id:o,loaded:!1};return e[o].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1);o.DI18n.Version="0.0.7",e.exports=o.DI18n},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DI18n=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(2),c=o(i),u=n(3),f="i18n-class",m="i18n-img",h="i18n-content",d="i18n-placeholder",p=/\$\{locale}/g,y=function(){};t.DI18n=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.locale=e.locale||"en",n.messages=e.messages||{},n.isReplace=e.isReplace||!1,n.currMessage=n.messages[n.locale],n.doms={},n.isReplace&&(n.getDoms(),n.fresh()),n}return a(t,e),l(t,[{key:"getDoms",value:function(){this.doms={classDoms:document.querySelectorAll("["+f+"]"),imgDoms:document.querySelectorAll("["+m+"]"),contentDoms:document.querySelectorAll("["+h+"]"),inputDoms:document.querySelectorAll("["+d+"]")}}},{key:"handlerClass",value:function(){if(this.doms.classDoms&&this.doms.classDoms.length)for(var e=0;e<this.doms.classDoms.length;e++){var t=this.doms.classDoms[e];(0,u.addClass)(t,t.getAttribute(f))}}},{key:"handlerImg",value:function(){if(this.doms.imgDoms&&this.doms.imgDoms.length)for(var e=0;e<this.doms.imgDoms.length;e++){var t=this.doms.imgDoms[e],n=t.getAttribute(m).replace(p,this.locale);t.src=n}}},{key:"handlerContent",value:function(){if(this.doms.contentDoms&&this.doms.contentDoms.length)for(var e=0;e<this.doms.contentDoms.length;e++){var t=this.doms.contentDoms[e],n=t.getAttribute(h);t.innerHTML=this.messages[this.locale][n]}}},{key:"handlerInput",value:function(){if(this.doms.inputDoms&&this.doms.inputDoms.length)for(var e=0;e<this.doms.inputDoms.length;e++){var t=this.doms.inputDoms[e],n=t.getAttribute(d);t.setAttribute("placeholder",this.currMessage[n])}}},{key:"fresh",value:function(){this.handlerClass(),this.handlerImg(),this.handlerContent(),this.handlerInput()}},{key:"setLocale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;this.locale=e,this.fresh(),t()}},{key:"loadJs",value:function(e,t){var n=document.createElement("script");n.src=e,n.onload=n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||t&&t()},document.getElementsByTagName[head][0].appendChild(n)}},{key:"setMessages",value:function(e){this.messages=e}}]),t}(c.default)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t){n(this,e),this.locale=t.locale||"zh",this.messages=t.messages||{}}return s(e,[{key:"$t",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];var r=String(this.messages[this.locale][e]);n=1===n.length&&"object"===o(n[0])?n[0]:{},n&&n.hasOwnProperty||(n={});var a=/(%|)\{([0-9a-zA-Z_]+)\}/g;return r.replace(a,function(e,t,o,s){var a="";return"{"===r[s-1]&&"}"===r[s+e.length]?o:(a=n.hasOwnProperty(o)?n[o]:e,a?a:"")})}},{key:"$html",value:function(e){var t=this;e=String(e);var n=/\$\{locale\}|\$t\(['"]([\s\S]+?)['"]\)/g;return e.replace(n,function(e,n,o,s){return"${locale}"===e?t.locale:t.messages[t.locale][n]||n})}}]),e}();t.default=r},function(e,t){"use strict";function n(e,t){return new RegExp(t).test(e.className||"")}function o(e,t){var n=new RegExp(t);return n.test(e.className)||(e.className+=" "+t),e}function s(e,t){if(e&&1===e.nodeType){var n=new RegExp(t);return n.test(e.className||"")&&(e.className=e.className.replace(n,"")),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=n,t.addClass=o,t.removeClass=s}])});